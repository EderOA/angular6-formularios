<h2>Validaciones Reactivas</h2>
<hr>
<div class="row">
    <div class="col">
        <form autocomplete="off" [formGroup]="miFormulario" (ngSubmit)="submitFormulario()">
            <!--Nombre -->
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Nombre</label>
                <div class="col-sm-9">
                    <input type="text"
                            class="form-control"
                            formControlName="nombre"
                            placeholder="Nombre del Usuario">
                    <span *ngIf="campoNoValido('nombre')"
                        class="form-text text-danger">
                        Debe ser en formato de nombre y apellido
                    </span>
                </div>
            </div>
            <!--email -->
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">e-mail</label>
                <div class="col-sm-9">
                    <input type="email"
                           class="form-control"
                           formControlName="email"
                           placeholder="email del Usuario">
                    <span *ngIf="campoNoValido('email')"
                           class="form-text text-danger">
                           {{ emailErrorMsg }}
                    </span>
                </div>
            </div>
            <!--usuario -->
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Usuario</label>
                <div class="col-sm-9">
                    <input type="email"
                           class="form-control"
                           placeholder="Usuario"
                           formControlName="username">
                    <span *ngIf="campoNoValido('username')"
                           class="form-text text-danger">
                           El username no puede ser ederoa
                    </span>
                </div>
            </div>
            <!--password -->
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Contraseña</label>
                <div class="col-sm-9">
                    <input type="password"
                           class="form-control"
                           formControlName="password"
                           placeholder="contraseña">
                    <span *ngIf="campoNoValido('password')"
                           class="form-text text-danger">
                           La contraseña debe ser mayor o igual a 6 caracteres
                    </span>
                </div>
            </div>
            <!--password2 -->
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Confirmación</label>
                <div class="col-sm-9">
                    <input type="password"
                           class="form-control"
                           formControlName="password2"
                           placeholder="Confirmación de Contraseña">
                    <span *ngIf="campoNoValido('password2')"
                           class="form-text text-danger">
                           Las contraseñas deben ser iguales
                    </span>
                </div>
            </div>
            <!--password2 -->
            <div class="row">
                <div class="col">
                    <button type="submit" class="btn btn-primary float-end"
                        [disabled]="miFormulario.pending">
                        Crear
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<h2>
    Form Valid: {{ miFormulario.valid }}
</h2>
<h2>
    Form Status: {{ miFormulario.status }}
</h2>
<h2>
    Form Pending: {{ miFormulario.pending }}
</h2>
<h2>
    Form errors
    <pre>{{ miFormulario.errors | json }}</pre>
</h2>
<h5>
    Nombre: {{ miFormulario.controls.nombre.errors | json }}
</h5>
<h5>
    Email: <pre>{{ miFormulario.controls.email.errors | json }}</pre>
</h5>
<h5>
    Username: {{ miFormulario.controls.username.errors | json }}
</h5>
<h5>
    Password: {{ miFormulario.controls.password.errors | json }}
</h5>
<h5>
    Password2: {{ miFormulario.controls.password2.errors | json }}
</h5>